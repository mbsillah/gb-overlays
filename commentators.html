<html>

<head>
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/jquery.transit.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/commentators.css">
</head>

<body>
    <div>
        <img id="board" src="imgs/casters_casters.png">
    </div>

    <div id="names">
        <span class="names" id="com1"></span>
        <span class="names" id="com2"></span>
        <div class="twitterHandles">
            <span class="twitter" id="twit1"></span>
            <span class="twitter" id="twit2"></span>
        </div>
    </div>
</body>

<script text="text/javascript">

    function init() {
        $('#board').transition({ opacity: '1', bottom: '0px' }, 600)
    }
    init();

    var streamInfo = "sc/streamcontrol.json";

    function getText() {

        $.getJSON(streamInfo, function (data) {

            var com1 = data.com1;
            var com2 = data.com2;
            var twit1 = data.twit1;
            var twit2 = data.twit2;

            if ($('#com1').text() != com1) {
                $('#com1').transition({ opacity: '0', left: '-46px' }, 300, function () {
                    $('#com1').html(com1);
                    $('#com1').delay(300).transition({ opacity: '1', left: '0px' }, 600);
                });
            }

            if ($('#twit1').text() != '@' + twit1) {
                $('#twit1').transition({ opacity: '0', left: '-46px' }, 300, function () {
                    $('#twit1').html("@" + twit1);
                    $('#twit1').delay(300).transition({ opacity: '1', left: '0px' }, 600);
                });
            }

            if ($('#com2').text() != com2) {
                $('#com2').transition({ opacity: '0', right: '-46px' }, 300, function () {
                    $('#com2').html(com2);
                    $('#com2').delay(300).transition({ opacity: '1', right: '0px' }, 600);
                });
            }

            if ($('#twit2').text() != '@' + twit2) {
                $('#twit2').transition({ opacity: '0', right: '-46px' }, 300, function () {
                    $('#twit2').html("@" + twit2);
                    $('#twit2').delay(300).transition({ opacity: '1', right: '0px' }, 600);
                });
            }

        })

    }

    setInterval(function () { getText(); }, 1000);


</script>

</html>